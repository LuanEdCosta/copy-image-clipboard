/* copy-image-clipboard 2.1.2 - Licensed MIT @ Luan Eduardo da Costa */
var CopyImageClipboard=function(n){"use strict";function o(n,o,t,e){return new(t||(t=Promise))((function(i,r){function c(n){try{u(e.next(n))}catch(n){r(n)}}function a(n){try{u(e.throw(n))}catch(n){r(n)}}function u(n){var o;n.done?i(n.value):(o=n.value,o instanceof t?o:new t((function(n){n(o)}))).then(c,a)}u((e=e.apply(n,o||[])).next())}))}function t(n){return o(this,void 0,void 0,(function*(){const o=yield fetch(`${n}`);return yield o.blob()}))}function e(n){return n.type.includes("jpeg")}function i(n){return n.type.includes("png")}function r(n){return o(this,void 0,void 0,(function*(){return new Promise((function(o,t){const e=document.createElement("img");e.crossOrigin="anonymous",e.src=n,e.onload=function(n){const t=n.target;o(t)},e.onabort=t,e.onerror=t}))}))}function c(n){return o(this,void 0,void 0,(function*(){return new Promise((function(o,t){const e=document.createElement("canvas"),i=e.getContext("2d");if(i){const{width:r,height:c}=n;e.width=r,e.height=c,i.drawImage(n,0,0,r,c),e.toBlob((function(n){n?o(n):t("Cannot get blob from image element")}),"image/png",1)}}))}))}function a(n){return o(this,void 0,void 0,(function*(){const o=URL.createObjectURL(n),t=yield r(o);return yield c(t)}))}function u(...n){return o(this,void 0,void 0,(function*(){const o=n.map((n=>{const o={[n.type]:n};return new ClipboardItem(o)}));yield navigator.clipboard.write(o)}))}return n.canCopyImagesToClipboard=function(){var n;const o="undefined"!=typeof fetch,t="undefined"!=typeof ClipboardItem,e=!!(null===(n=null===navigator||void 0===navigator?void 0:navigator.clipboard)||void 0===n?void 0:n.write);return o&&t&&e},n.convertBlobToPng=a,n.copyBlobToClipboard=u,n.copyImageToClipboard=function(n){return o(this,void 0,void 0,(function*(){const o=yield t(n);if(e(o)){const n=yield a(o);return yield u(n),o}if(i(o))return yield u(o),o;throw new Error("Cannot copy this type of image to clipboard")}))},n.copyMultipleImagesToClipboard=function(...n){return o(this,void 0,void 0,(function*(){const o=n.map((n=>t(n))),r=(yield Promise.all(o)).map((n=>i(n)?n:e(n)?a(n):Promise.reject("Can only copy JPG and PNG images"))),c=yield Promise.all(r);return yield u(...c),c}))},n.createImageElement=r,n.getBlobFromImageElement=c,n.getBlobFromImageSource=t,n.isJpegBlob=e,n.isPngBlob=i,n.requestClipboardWritePermission=function(){var n;return o(this,void 0,void 0,(function*(){if(!(null===(n=null===navigator||void 0===navigator?void 0:navigator.permissions)||void 0===n?void 0:n.query))return!1;const{state:o}=yield navigator.permissions.query({name:"clipboard-write"});return"granted"===o}))},Object.defineProperty(n,"__esModule",{value:!0}),n}({});
