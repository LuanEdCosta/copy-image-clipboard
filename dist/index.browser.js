/* copy-image-clipboard 1.0.1 - Licensed MIT @ Luan Eduardo da Costa */
var CopyImageClipboard=function(n){"use strict";function o(n,o,t,e){return new(t||(t=Promise))((function(i,r){function c(n){try{a(e.next(n))}catch(n){r(n)}}function u(n){try{a(e.throw(n))}catch(n){r(n)}}function a(n){var o;n.done?i(n.value):(o=n.value,o instanceof t?o:new t((function(n){n(o)}))).then(c,u)}a((e=e.apply(n,o||[])).next())}))}function t(n){return o(this,void 0,void 0,(function*(){const o=yield fetch(`${n}`);return yield o.blob()}))}function e(n){return n.type.includes("jpeg")}function i(n){return n.type.includes("png")}function r(n){return o(this,void 0,void 0,(function*(){return new Promise((function(o,t){const e=document.createElement("img");e.crossOrigin="anonymous",e.src=n,e.onload=function(n){const t=n.target;o(t)},e.onabort=t,e.onerror=t}))}))}function c(n){return o(this,void 0,void 0,(function*(){return new Promise((function(o,t){const e=document.createElement("canvas"),i=e.getContext("2d");if(i){const{width:r,height:c}=n;e.width=r,e.height=c,i.drawImage(n,0,0,r,c),e.toBlob((function(n){n?o(n):t("Cannot get blob from image element")}),"image/png",1)}}))}))}function u(n){return o(this,void 0,void 0,(function*(){const o=URL.createObjectURL(n),t=yield r(o);return yield c(t)}))}function a(n){return o(this,void 0,void 0,(function*(){const o={[n.type]:n},t=new ClipboardItem(o);yield navigator.clipboard.write([t])}))}return n.canCopyImagesToClipboard=function(){var n;const o="undefined"!=typeof fetch,t="undefined"!=typeof ClipboardItem,e=!!(null===(n=null===navigator||void 0===navigator?void 0:navigator.clipboard)||void 0===n?void 0:n.write);return o&&t&&e},n.convertBlobToPng=u,n.copyBlobToClipboard=a,n.copyImageToClipboard=function(n){return o(this,void 0,void 0,(function*(){const o=yield t(n);if(e(o)){a(yield u(o))}else{if(!i(o))throw new Error("Cannot copy this type of image to clipboard");a(o)}}))},n.createImageElement=r,n.getBlobFromImageElement=c,n.getBlobFromImageSource=t,n.isJpegBlob=e,n.isPngBlob=i,n.requestClipboardWritePermission=function(){var n;return o(this,void 0,void 0,(function*(){if(!(null===(n=null===navigator||void 0===navigator?void 0:navigator.permissions)||void 0===n?void 0:n.query))return!1;const{state:o}=yield navigator.permissions.query({name:"clipboard-write"});return"granted"===o}))},Object.defineProperty(n,"__esModule",{value:!0}),n}({});
